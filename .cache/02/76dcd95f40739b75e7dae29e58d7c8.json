{"id":"UiHB","dependencies":[{"name":"C:\\Users\\Helegbedey\\Desktop\\My-Projects\\Front-End\\Reddit-Search\\node_modules\\javascript-time-ago\\modules\\grade.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Helegbedey\\Desktop\\My-Projects\\Front-End\\Reddit-Search\\package.json","includedInParent":true,"mtime":1564998157204},{"name":"C:\\Users\\Helegbedey\\Desktop\\My-Projects\\Front-End\\Reddit-Search\\node_modules\\javascript-time-ago\\package.json","includedInParent":true,"mtime":1564856092500},{"name":"./gradation","loc":{"line":3,"column":27},"parent":"C:\\Users\\Helegbedey\\Desktop\\My-Projects\\Front-End\\Reddit-Search\\node_modules\\javascript-time-ago\\modules\\grade.js","resolved":"C:\\Users\\Helegbedey\\Desktop\\My-Projects\\Front-End\\Reddit-Search\\node_modules\\javascript-time-ago\\modules\\gradation\\index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=n;var t=require(\"./gradation\");function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function n(r,n,o){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.convenient;if(0!==(u=i(u,o)).length){var f=e(r,n,u),a=u[f];if(-1!==f){if(a.granularity)if(0===Math.round(r/a.factor/a.granularity)*a.granularity&&f>0)return u[f-1];return a}}}function o(t,n,o){var e;if(t&&(t.id||t.unit)&&(e=n[\"threshold_for_\".concat(t.id||t.unit)]),void 0===e&&(e=n.threshold),\"function\"==typeof e&&(e=e(o)),t&&\"number\"!=typeof e){var i=r(e);throw new Error('Each step of a gradation must have a threshold defined except for the first one. Got \"'.concat(e,'\", ').concat(i,\". Step: \").concat(JSON.stringify(n)))}return e}function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return t<o(n[i-1],n[i],r)?i-1:i===n.length-1?i:e(t,r,n,i+1)}function i(t,r){return t.filter(function(t){var n=t.unit;return!n||r.indexOf(n)>=0})}"},"sourceMaps":{"js":{"mappings":[{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":0}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":13}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":20}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":35}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":43}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":56}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":57}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":64}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":68}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":76}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":84}},{"source":"../source/grade.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"../source/grade.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"../source/grade.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"../source/grade.js","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":115}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":124}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":126}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":129}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":136}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":138}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":157}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":165}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":182}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":189}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":198}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":207}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":210}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":224}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":227}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":236}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":239}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":246}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":249}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":268}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":276}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":278}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":292}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":300}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":304}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":311}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":321}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":337}},{"source":"../source/grade.js","name":null,"original":{"line":147,"column":1},"generated":{"line":1,"column":341}},{"source":"../source/grade.js","name":null,"original":{"line":24,"column":15},"generated":{"line":1,"column":344}},{"source":"../source/grade.js","name":"grade","original":{"line":24,"column":24},"generated":{"line":1,"column":353}},{"source":"../source/grade.js","name":"elapsed","original":{"line":24,"column":30},"generated":{"line":1,"column":355}},{"source":"../source/grade.js","name":"now","original":{"line":24,"column":39},"generated":{"line":1,"column":357}},{"source":"../source/grade.js","name":"units","original":{"line":24,"column":44},"generated":{"line":1,"column":359}},{"source":"../source/grade.js","name":"gradation","original":{"line":24,"column":51},"generated":{"line":1,"column":362}},{"source":"../source/grade.js","name":"gradation","original":{"line":24,"column":51},"generated":{"line":1,"column":366}},{"source":"../source/grade.js","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":368}},{"source":"../source/grade.js","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":378}},{"source":"../source/grade.js","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":385}},{"source":"../source/grade.js","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":393}},{"source":"../source/grade.js","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":397}},{"source":"../source/grade.js","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":407}},{"source":"../source/grade.js","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":410}},{"source":"../source/grade.js","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":420}},{"source":"../source/grade.js","name":"convenient","original":{"line":24,"column":63},"generated":{"line":1,"column":423}},{"source":"../source/grade.js","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":425}},{"source":"../source/grade.js","name":"gradation","original":{"line":32,"column":5},"generated":{"line":1,"column":436}},{"source":"../source/grade.js","name":null,"original":{"line":32,"column":26},"generated":{"line":1,"column":439}},{"source":"../source/grade.js","name":"gradation","original":{"line":28,"column":1},"generated":{"line":1,"column":444}},{"source":"../source/grade.js","name":"getAllowedSteps","original":{"line":28,"column":13},"generated":{"line":1,"column":446}},{"source":"../source/grade.js","name":"gradation","original":{"line":28,"column":29},"generated":{"line":1,"column":448}},{"source":"../source/grade.js","name":"units","original":{"line":28,"column":40},"generated":{"line":1,"column":450}},{"source":"../source/grade.js","name":"length","original":{"line":32,"column":15},"generated":{"line":1,"column":454}},{"source":"../source/grade.js","name":"gradation","original":{"line":32,"column":5},"generated":{"line":1,"column":461}},{"source":"../source/grade.js","name":"i","original":{"line":37,"column":7},"generated":{"line":1,"column":462}},{"source":"../source/grade.js","name":"i","original":{"line":37,"column":7},"generated":{"line":1,"column":466}},{"source":"../source/grade.js","name":"findGradationStep","original":{"line":37,"column":11},"generated":{"line":1,"column":468}},{"source":"../source/grade.js","name":"elapsed","original":{"line":37,"column":29},"generated":{"line":1,"column":470}},{"source":"../source/grade.js","name":"now","original":{"line":37,"column":38},"generated":{"line":1,"column":472}},{"source":"../source/grade.js","name":"gradation","original":{"line":37,"column":43},"generated":{"line":1,"column":474}},{"source":"../source/grade.js","name":"step","original":{"line":38,"column":7},"generated":{"line":1,"column":477}},{"source":"../source/grade.js","name":"gradation","original":{"line":38,"column":14},"generated":{"line":1,"column":479}},{"source":"../source/grade.js","name":"i","original":{"line":38,"column":24},"generated":{"line":1,"column":481}},{"source":"../source/grade.js","name":"i","original":{"line":43,"column":5},"generated":{"line":1,"column":484}},{"source":"../source/grade.js","name":null,"original":{"line":43,"column":12},"generated":{"line":1,"column":488}},{"source":"../source/grade.js","name":"i","original":{"line":43,"column":5},"generated":{"line":1,"column":492}},{"source":"../source/grade.js","name":"i","original":{"line":43,"column":5},"generated":{"line":1,"column":494}},{"source":"../source/grade.js","name":"step","original":{"line":51,"column":5},"generated":{"line":1,"column":495}},{"source":"../source/grade.js","name":"step","original":{"line":51,"column":5},"generated":{"line":1,"column":498}},{"source":"../source/grade.js","name":"granularity","original":{"line":51,"column":10},"generated":{"line":1,"column":500}},{"source":"../source/grade.js","name":"amount","original":{"line":58,"column":6},"generated":{"line":1,"column":512}},{"source":"../source/grade.js","name":null,"original":{"line":58,"column":17},"generated":{"line":1,"column":515}},{"source":"../source/grade.js","name":"Math","original":{"line":53,"column":17},"generated":{"line":1,"column":519}},{"source":"../source/grade.js","name":"round","original":{"line":53,"column":22},"generated":{"line":1,"column":524}},{"source":"../source/grade.js","name":"elapsed","original":{"line":53,"column":29},"generated":{"line":1,"column":530}},{"source":"../source/grade.js","name":"step","original":{"line":53,"column":39},"generated":{"line":1,"column":532}},{"source":"../source/grade.js","name":"factor","original":{"line":53,"column":44},"generated":{"line":1,"column":534}},{"source":"../source/grade.js","name":"step","original":{"line":53,"column":54},"generated":{"line":1,"column":541}},{"source":"../source/grade.js","name":"granularity","original":{"line":53,"column":59},"generated":{"line":1,"column":543}},{"source":"../source/grade.js","name":"step","original":{"line":53,"column":74},"generated":{"line":1,"column":556}},{"source":"../source/grade.js","name":"granularity","original":{"line":53,"column":79},"generated":{"line":1,"column":558}},{"source":"../source/grade.js","name":"i","original":{"line":58,"column":22},"generated":{"line":1,"column":571}},{"source":"../source/grade.js","name":null,"original":{"line":58,"column":26},"generated":{"line":1,"column":573}},{"source":"../source/grade.js","name":"gradation","original":{"line":59,"column":10},"generated":{"line":1,"column":575}},{"source":"../source/grade.js","name":"gradation","original":{"line":59,"column":10},"generated":{"line":1,"column":582}},{"source":"../source/grade.js","name":"i","original":{"line":59,"column":20},"generated":{"line":1,"column":584}},{"source":"../source/grade.js","name":null,"original":{"line":59,"column":24},"generated":{"line":1,"column":586}},{"source":"../source/grade.js","name":"step","original":{"line":63,"column":8},"generated":{"line":1,"column":589}},{"source":"../source/grade.js","name":"step","original":{"line":63,"column":8},"generated":{"line":1,"column":596}},{"source":"../source/grade.js","name":null,"original":{"line":74,"column":0},"generated":{"line":1,"column":600}},{"source":"../source/grade.js","name":"getThreshold","original":{"line":74,"column":9},"generated":{"line":1,"column":609}},{"source":"../source/grade.js","name":"fromStep","original":{"line":74,"column":22},"generated":{"line":1,"column":611}},{"source":"../source/grade.js","name":"toStep","original":{"line":74,"column":32},"generated":{"line":1,"column":613}},{"source":"../source/grade.js","name":"now","original":{"line":74,"column":40},"generated":{"line":1,"column":615}},{"source":"../source/grade.js","name":"threshold","original":{"line":76,"column":5},"generated":{"line":1,"column":618}},{"source":"../source/grade.js","name":"threshold","original":{"line":76,"column":5},"generated":{"line":1,"column":622}},{"source":"../source/grade.js","name":"fromStep","original":{"line":96,"column":5},"generated":{"line":1,"column":624}},{"source":"../source/grade.js","name":"fromStep","original":{"line":80,"column":5},"generated":{"line":1,"column":627}},{"source":"../source/grade.js","name":"fromStep","original":{"line":80,"column":18},"generated":{"line":1,"column":631}},{"source":"../source/grade.js","name":"id","original":{"line":80,"column":27},"generated":{"line":1,"column":633}},{"source":"../source/grade.js","name":"fromStep","original":{"line":80,"column":33},"generated":{"line":1,"column":637}},{"source":"../source/grade.js","name":"unit","original":{"line":80,"column":42},"generated":{"line":1,"column":639}},{"source":"../source/grade.js","name":"threshold","original":{"line":81,"column":2},"generated":{"line":1,"column":647}},{"source":"../source/grade.js","name":"toStep","original":{"line":81,"column":14},"generated":{"line":1,"column":649}},{"source":"../source/grade.js","name":null,"original":{"line":81,"column":20},"generated":{"line":1,"column":651}},{"source":"../source/grade.js","name":null,"original":{"line":81,"column":20},"generated":{"line":1,"column":668}},{"source":"../source/grade.js","name":"fromStep","original":{"line":81,"column":38},"generated":{"line":1,"column":675}},{"source":"../source/grade.js","name":"id","original":{"line":81,"column":47},"generated":{"line":1,"column":677}},{"source":"../source/grade.js","name":"fromStep","original":{"line":81,"column":53},"generated":{"line":1,"column":681}},{"source":"../source/grade.js","name":"unit","original":{"line":81,"column":62},"generated":{"line":1,"column":683}},{"source":"../source/grade.js","name":"undefined","original":{"line":86,"column":19},"generated":{"line":1,"column":696}},{"source":"../source/grade.js","name":"threshold","original":{"line":86,"column":5},"generated":{"line":1,"column":700}},{"source":"../source/grade.js","name":"threshold","original":{"line":87,"column":2},"generated":{"line":1,"column":704}},{"source":"../source/grade.js","name":"toStep","original":{"line":87,"column":14},"generated":{"line":1,"column":706}},{"source":"../source/grade.js","name":"threshold","original":{"line":87,"column":21},"generated":{"line":1,"column":708}},{"source":"../source/grade.js","name":null,"original":{"line":91,"column":26},"generated":{"line":1,"column":719}},{"source":"../source/grade.js","name":"threshold","original":{"line":91,"column":12},"generated":{"line":1,"column":738}},{"source":"../source/grade.js","name":"threshold","original":{"line":92,"column":2},"generated":{"line":1,"column":742}},{"source":"../source/grade.js","name":"threshold","original":{"line":92,"column":14},"generated":{"line":1,"column":744}},{"source":"../source/grade.js","name":"now","original":{"line":92,"column":24},"generated":{"line":1,"column":746}},{"source":"../source/grade.js","name":"fromStep","original":{"line":96,"column":5},"generated":{"line":1,"column":750}},{"source":"../source/grade.js","name":null,"original":{"line":96,"column":38},"generated":{"line":1,"column":753}},{"source":"../source/grade.js","name":"threshold","original":{"line":96,"column":24},"generated":{"line":1,"column":770}},{"source":"../source/grade.js","name":null,"original":{"line":96,"column":48},"generated":{"line":1,"column":772}},{"source":"../source/grade.js","name":"type","original":{"line":100,"column":8},"generated":{"line":1,"column":773}},{"source":"../source/grade.js","name":"type","original":{"line":100,"column":8},"generated":{"line":1,"column":777}},{"source":"../source/grade.js","name":null,"original":{"line":100,"column":12},"generated":{"line":1,"column":779}},{"source":"../source/grade.js","name":"threshold","original":{"line":100,"column":22},"generated":{"line":1,"column":781}},{"source":"../source/grade.js","name":null,"original":{"line":101,"column":8},"generated":{"line":1,"column":784}},{"source":"../source/grade.js","name":null,"original":{"line":101,"column":8},"generated":{"line":1,"column":790}},{"source":"../source/grade.js","name":"Error","original":{"line":101,"column":12},"generated":{"line":1,"column":794}},{"source":"../source/grade.js","name":null,"original":{"line":101,"column":8},"generated":{"line":1,"column":800}},{"source":"../source/grade.js","name":null,"original":{"line":101,"column":8},"generated":{"line":1,"column":889}},{"source":"../source/grade.js","name":"threshold","original":{"line":101,"column":107},"generated":{"line":1,"column":896}},{"source":"../source/grade.js","name":null,"original":{"line":101,"column":8},"generated":{"line":1,"column":898}},{"source":"../source/grade.js","name":null,"original":{"line":101,"column":8},"generated":{"line":1,"column":905}},{"source":"../source/grade.js","name":"type","original":{"line":101,"column":122},"generated":{"line":1,"column":912}},{"source":"../source/grade.js","name":null,"original":{"line":101,"column":8},"generated":{"line":1,"column":914}},{"source":"../source/grade.js","name":null,"original":{"line":101,"column":8},"generated":{"line":1,"column":926}},{"source":"../source/grade.js","name":"JSON","original":{"line":101,"column":137},"generated":{"line":1,"column":933}},{"source":"../source/grade.js","name":"stringify","original":{"line":101,"column":142},"generated":{"line":1,"column":938}},{"source":"../source/grade.js","name":"toStep","original":{"line":101,"column":152},"generated":{"line":1,"column":948}},{"source":"../source/grade.js","name":"threshold","original":{"line":104,"column":8},"generated":{"line":1,"column":953}},{"source":"../source/grade.js","name":"threshold","original":{"line":104,"column":8},"generated":{"line":1,"column":960}},{"source":"../source/grade.js","name":null,"original":{"line":114,"column":0},"generated":{"line":1,"column":962}},{"source":"../source/grade.js","name":"findGradationStep","original":{"line":114,"column":9},"generated":{"line":1,"column":971}},{"source":"../source/grade.js","name":"elapsed","original":{"line":114,"column":27},"generated":{"line":1,"column":973}},{"source":"../source/grade.js","name":"now","original":{"line":114,"column":36},"generated":{"line":1,"column":975}},{"source":"../source/grade.js","name":"gradation","original":{"line":114,"column":41},"generated":{"line":1,"column":977}},{"source":"../source/grade.js","name":"i","original":{"line":114,"column":52},"generated":{"line":1,"column":980}},{"source":"../source/grade.js","name":"i","original":{"line":114,"column":52},"generated":{"line":1,"column":984}},{"source":"../source/grade.js","name":null,"original":{"line":115,"column":0},"generated":{"line":1,"column":986}},{"source":"../source/grade.js","name":null,"original":{"line":115,"column":0},"generated":{"line":1,"column":996}},{"source":"../source/grade.js","name":null,"original":{"line":115,"column":0},"generated":{"line":1,"column":1003}},{"source":"../source/grade.js","name":null,"original":{"line":115,"column":0},"generated":{"line":1,"column":1011}},{"source":"../source/grade.js","name":null,"original":{"line":115,"column":0},"generated":{"line":1,"column":1015}},{"source":"../source/grade.js","name":null,"original":{"line":115,"column":0},"generated":{"line":1,"column":1025}},{"source":"../source/grade.js","name":null,"original":{"line":115,"column":0},"generated":{"line":1,"column":1028}},{"source":"../source/grade.js","name":null,"original":{"line":115,"column":0},"generated":{"line":1,"column":1038}},{"source":"../source/grade.js","name":null,"original":{"line":114,"column":56},"generated":{"line":1,"column":1041}},{"source":"../source/grade.js","name":"elapsed","original":{"line":118,"column":5},"generated":{"line":1,"column":1043}},{"source":"../source/grade.js","name":"elapsed","original":{"line":118,"column":5},"generated":{"line":1,"column":1050}},{"source":"../source/grade.js","name":"getThreshold","original":{"line":118,"column":15},"generated":{"line":1,"column":1052}},{"source":"../source/grade.js","name":"gradation","original":{"line":118,"column":28},"generated":{"line":1,"column":1054}},{"source":"../source/grade.js","name":"i","original":{"line":118,"column":38},"generated":{"line":1,"column":1056}},{"source":"../source/grade.js","name":null,"original":{"line":118,"column":42},"generated":{"line":1,"column":1058}},{"source":"../source/grade.js","name":"gradation","original":{"line":118,"column":46},"generated":{"line":1,"column":1061}},{"source":"../source/grade.js","name":"i","original":{"line":118,"column":56},"generated":{"line":1,"column":1063}},{"source":"../source/grade.js","name":"now","original":{"line":118,"column":60},"generated":{"line":1,"column":1066}},{"source":"../source/grade.js","name":"i","original":{"line":119,"column":9},"generated":{"line":1,"column":1069}},{"source":"../source/grade.js","name":null,"original":{"line":119,"column":13},"generated":{"line":1,"column":1071}},{"source":"../source/grade.js","name":"i","original":{"line":122,"column":5},"generated":{"line":1,"column":1073}},{"source":"../source/grade.js","name":"gradation","original":{"line":122,"column":11},"generated":{"line":1,"column":1077}},{"source":"../source/grade.js","name":"length","original":{"line":122,"column":21},"generated":{"line":1,"column":1079}},{"source":"../source/grade.js","name":null,"original":{"line":122,"column":30},"generated":{"line":1,"column":1086}},{"source":"../source/grade.js","name":"i","original":{"line":123,"column":9},"generated":{"line":1,"column":1088}},{"source":"../source/grade.js","name":"findGradationStep","original":{"line":126,"column":8},"generated":{"line":1,"column":1090}},{"source":"../source/grade.js","name":"elapsed","original":{"line":126,"column":26},"generated":{"line":1,"column":1092}},{"source":"../source/grade.js","name":"now","original":{"line":126,"column":35},"generated":{"line":1,"column":1094}},{"source":"../source/grade.js","name":"gradation","original":{"line":126,"column":40},"generated":{"line":1,"column":1096}},{"source":"../source/grade.js","name":"i","original":{"line":126,"column":51},"generated":{"line":1,"column":1098}},{"source":"../source/grade.js","name":null,"original":{"line":126,"column":55},"generated":{"line":1,"column":1100}},{"source":"../source/grade.js","name":null,"original":{"line":135,"column":0},"generated":{"line":1,"column":1103}},{"source":"../source/grade.js","name":"getAllowedSteps","original":{"line":135,"column":9},"generated":{"line":1,"column":1112}},{"source":"../source/grade.js","name":"gradation","original":{"line":135,"column":25},"generated":{"line":1,"column":1114}},{"source":"../source/grade.js","name":"units","original":{"line":135,"column":36},"generated":{"line":1,"column":1116}},{"source":"../source/grade.js","name":"gradation","original":{"line":137,"column":8},"generated":{"line":1,"column":1119}},{"source":"../source/grade.js","name":"gradation","original":{"line":137,"column":8},"generated":{"line":1,"column":1126}},{"source":"../source/grade.js","name":"filter","original":{"line":137,"column":18},"generated":{"line":1,"column":1128}},{"source":"../source/grade.js","name":null,"original":{"line":137,"column":25},"generated":{"line":1,"column":1135}},{"source":"../source/grade.js","name":null,"original":{"line":137,"column":25},"generated":{"line":1,"column":1144}},{"source":"../source/grade.js","name":"unit","original":{"line":137,"column":28},"generated":{"line":1,"column":1147}},{"source":"../source/grade.js","name":"unit","original":{"line":137,"column":28},"generated":{"line":1,"column":1151}},{"source":"../source/grade.js","name":null,"original":{"line":137,"column":39},"generated":{"line":1,"column":1153}},{"source":"../source/grade.js","name":"unit","original":{"line":137,"column":28},"generated":{"line":1,"column":1155}},{"source":"../source/grade.js","name":"unit","original":{"line":140,"column":6},"generated":{"line":1,"column":1160}},{"source":"../source/grade.js","name":"unit","original":{"line":140,"column":6},"generated":{"line":1,"column":1167}},{"source":"../source/grade.js","name":"units","original":{"line":141,"column":10},"generated":{"line":1,"column":1170}},{"source":"../source/grade.js","name":"indexOf","original":{"line":141,"column":16},"generated":{"line":1,"column":1172}},{"source":"../source/grade.js","name":"unit","original":{"line":141,"column":24},"generated":{"line":1,"column":1180}},{"source":"../source/grade.js","name":null,"original":{"line":141,"column":33},"generated":{"line":1,"column":1184}}],"sources":{"../source/grade.js":"import { convenient } from './gradation'\r\n\r\n/**\r\n * Takes seconds `elapsed` and measures them against\r\n * `gradation` to return the suitable `gradation` step.\r\n *\r\n * @param {number} elapsed - Time interval (in seconds)\r\n *\r\n * @param {string[]} units - A list of allowed time units\r\n *                           (e.g. ['second', 'minute', 'hour', …])\r\n *\r\n * @param {Object} [gradation] - Time scale gradation steps.\r\n *\r\n *                               E.g.:\r\n *                               [\r\n *                                 { unit: 'second', factor: 1 },\r\n *                                 { unit: 'minute', factor: 60, threshold: 60 },\r\n *                                 { format(), threshold: 24 * 60 * 60 },\r\n *                                 …\r\n *                               ]\r\n *\r\n * @return {?Object} `gradation` step.\r\n */\r\nexport default function grade(elapsed, now, units, gradation = convenient)\r\n{\r\n\t// Leave only allowed time measurement units.\r\n\t// E.g. omit \"quarter\" unit.\r\n\tgradation = getAllowedSteps(gradation, units)\r\n\r\n\t// If no steps of gradation fit the conditions\r\n\t// then return nothing.\r\n\tif (gradation.length === 0) {\r\n\t\treturn\r\n\t}\r\n\r\n\t// Find the most appropriate gradation step\r\n\tconst i = findGradationStep(elapsed, now, gradation)\r\n\tconst step = gradation[i]\r\n\r\n\t// If time elapsed is too small and even\r\n\t// the first gradation step doesn't suit it\r\n\t// then return nothing.\r\n\tif (i === -1) {\r\n\t\treturn\r\n\t}\r\n\r\n\t// Apply granularity to the time amount\r\n\t// (and fall back to the previous step\r\n\t//  if the first level of granularity\r\n\t//  isn't met by this amount)\r\n\tif (step.granularity) {\r\n\t\t// Recalculate the elapsed time amount based on granularity\r\n\t\tconst amount = Math.round((elapsed / step.factor) / step.granularity) * step.granularity\r\n\t\t// If the granularity for this step\r\n\t\t// is too high, then fallback\r\n\t\t// to the previous step of gradation.\r\n\t\t// (if there is any previous step of gradation)\r\n\t\tif (amount === 0 && i > 0) {\r\n\t\t\treturn gradation[i - 1]\r\n\t\t}\r\n\t}\r\n\r\n\treturn step\r\n}\r\n\r\n/**\r\n * Gets threshold for moving from `fromStep` to `next_step`.\r\n * @param  {Object} fromStep - From step.\r\n * @param  {Object} next_step - To step.\r\n * @param  {number} now - The current timestamp.\r\n * @return {number}\r\n * @throws Will throw if no threshold is found.\r\n */\r\nfunction getThreshold(fromStep, toStep, now)\r\n{\r\n\tlet threshold\r\n\r\n\t// Allows custom thresholds when moving\r\n\t// from a specific step to a specific step.\r\n\tif (fromStep && (fromStep.id || fromStep.unit)) {\r\n\t\tthreshold = toStep[`threshold_for_${fromStep.id || fromStep.unit}`]\r\n\t}\r\n\r\n\t// If no custom threshold is set for this transition\r\n\t// then use the usual threshold for the next step.\r\n\tif (threshold === undefined) {\r\n\t\tthreshold = toStep.threshold\r\n\t}\r\n\r\n\t// Convert threshold to a number.\r\n\tif (typeof threshold === 'function') {\r\n\t\tthreshold = threshold(now)\r\n\t}\r\n\r\n\t// Throw if no threshold is found.\r\n\tif (fromStep && typeof threshold !== 'number') {\r\n\t\t// Babel transforms `typeof` into some \"branches\"\r\n\t\t// so istanbul will show this as \"branch not covered\".\r\n\t\t/* istanbul ignore next */\r\n\t\tconst type = typeof threshold\r\n\t\tthrow new Error(`Each step of a gradation must have a threshold defined except for the first one. Got \"${threshold}\", ${type}. Step: ${JSON.stringify(toStep)}`)\r\n\t}\r\n\r\n\treturn threshold\r\n}\r\n\r\n/**\r\n * @param  {number} elapsed - Time elapsed (in seconds).\r\n * @param  {number} now - Current timestamp.\r\n * @param  {Object} gradation - Gradation.\r\n * @param  {number} i - Gradation step currently being tested.\r\n * @return {number} Gradation step index.\r\n */\r\nfunction findGradationStep(elapsed, now, gradation, i = 0)\r\n{\r\n\t// If the threshold for moving from previous step\r\n\t// to this step is too high then return the previous step.\r\n\tif (elapsed < getThreshold(gradation[i - 1], gradation[i], now)) {\r\n\t\treturn i - 1\r\n\t}\r\n\t// If it's the last step of gradation then return it.\r\n\tif (i === gradation.length - 1) {\r\n\t\treturn i\r\n\t}\r\n\t// Move to the next step.\r\n\treturn findGradationStep(elapsed, now, gradation, i + 1)\r\n}\r\n\r\n/**\r\n * Leaves only allowed gradation steps.\r\n * @param  {Object[]} gradation\r\n * @param  {string[]} units - Allowed time units.\r\n * @return {Object[]}\r\n */\r\nfunction getAllowedSteps(gradation, units)\r\n{\r\n\treturn gradation.filter(({ unit }) => {\r\n\t\t// If this step has a `unit` defined\r\n\t\t// then this `unit` must be in the list of `units` allowed.\r\n\t\tif (unit) {\r\n\t\t\treturn units.indexOf(unit) >= 0\r\n\t\t}\r\n\t\t// A gradation step is not required to specify a `unit`.\r\n\t\t// E.g. for Twitter gradation it specifies `format()` instead.\r\n\t\treturn true\r\n\t})\r\n}"},"lineCount":null}},"error":null,"hash":"58227b859f2fb254b0b2bbc46debc230","cacheData":{"env":{}}}